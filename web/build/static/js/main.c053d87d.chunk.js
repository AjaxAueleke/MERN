(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{197:function(e,a,t){},198:function(e,a,t){},324:function(e,a,t){},328:function(e,a,t){"use strict";t.r(a);var r=t(0),s=t.n(r),n=t(21),i=t.n(n),o=(t(197),t(198),t(12)),l=t(46),c=t.n(l),d=t(102),u=t(39),j=t(404),b=t(401),h=t(407),m=t(406),x=t(409),p=t(410),O=t(23),f=t(402),g=t(2),v=u.a({email:u.b("Enter your email").email("Enter a valid email").required("Email is required"),password:u.b("Enter your password").min(6,"Password should be of minimum 6 characters length").required("Password is required")}),w=function(){var e=Object(O.f)(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),s=t[0],n=t[1];Object(r.useEffect)((function(){localStorage.getItem("user")&&e.push("/dashboard")}));var i=Object(d.a)({initialValues:{email:"",password:""},validationSchema:v,onSubmit:function(a,t){var r=t.resetForm;console.log(a),S(!0),c.a.post("/api/v1/login",{email:a.email.trim(),password:a.password}).then((function(a){r(),200===a.status&&(localStorage.clear(),localStorage.setItem("user",JSON.stringify(a.data)),e.push("/dashboard")),S(!1),console.log(a)})).catch((function(e){r(),S(!1),n(!0),console.log(e)}))}}),l=Object(r.useState)(!1),u=Object(o.a)(l,2),w=u[0],S=u[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{sx:{flexGrow:1},children:Object(g.jsx)(h.a,{position:"static",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Login Page"}),Object(g.jsx)(j.a,{color:"inherit",onClick:function(){e.push("/")},children:"Login"}),Object(g.jsx)(j.a,{color:"inherit",onClick:function(){e.push("/signup")},children:"Sign Up"})]})})}),s&&Object(g.jsx)(f.a,{severity:"error",children:"Invalid email and/or password"}),Object(g.jsx)(m.a,{sx:{margin:"50px auto"},children:Object(g.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(g.jsx)(b.a,{fullWidth:!0,id:"email",name:"email",label:"Email",value:i.values.email,onChange:i.handleChange,error:i.touched.email&&Boolean(i.errors.email),helperText:i.touched.email&&i.errors.email,sx:{margin:"10px"}}),Object(g.jsx)(b.a,{fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:i.values.password,onChange:i.handleChange,error:i.touched.password&&Boolean(i.errors.password),helperText:i.touched.password&&i.errors.password,sx:{margin:"10px"}}),Object(g.jsx)(j.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",disabled:w,children:"Submit"})]})})]})},S=t(408),C=t(411),y=t(405),E=t(396),N=t(400),q=t(175),I=t.n(q),W=(t(324),function(){var e=Object(E.a)("(max-width:600px)"),a=Object(E.a)("(min-width:992px)");console.log(e,a);var t=JSON.parse(localStorage.getItem("user")),s=Object(r.useState)(t.firstName),n=Object(o.a)(s,2),i=n[0],l=n[1],d=Object(r.useState)(t.lastName),u=Object(o.a)(d,2),b=u[0],h=u[1],m=Object(r.useState)(t.email),x=Object(o.a)(m,2),p=x[0],O=x[1],f=Object(r.useState)(t.about),v=Object(o.a)(f,2),w=v[0],q=v[1],W=Object(r.useState)(!0),P=Object(o.a)(W,2),k=P[0],B=P[1];return t?Object(g.jsx)(S.a,{sx:e?{margin:"20px auto",padding:"10px",fontSize:"1.25rem",fontStyle:"bold",width:"90%"}:{},children:Object(g.jsxs)(C.a,{children:[Object(g.jsxs)(y.a,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(g.jsx)("h1",{style:{fontSize:"1.25rem",padding:"5px"},children:"User Details"}),Object(g.jsx)(I.a,{onClick:function(){console.log("Clicked"),B(!1)}})]}),Object(g.jsx)(y.a,{children:Object(g.jsx)(N.a,{class:"disabled-form",variant:"standard",disabled:k,value:i,onChange:function(e){l(e.target.value)}})}),Object(g.jsx)(y.a,{children:Object(g.jsx)(N.a,{class:"disabled-form",variant:"standard",disabled:k,value:b,onChange:function(e){h(e.target.value)}})}),Object(g.jsx)(y.a,{children:Object(g.jsx)(N.a,{class:"disabled-form",variant:"standard",disabled:k,value:p,onChange:function(e){O(e.target.value)}})}),Object(g.jsx)(y.a,{sx:{display:"flex",justifyContent:"space-between"},children:Object(g.jsx)(N.a,{class:"disabled-form",variant:"standard",disabled:k,value:w,onChange:function(e){q(e.target.value)}})}),Object(g.jsx)(y.a,{children:Object(g.jsx)(j.a,{variant:"contained",sx:{fontStyle:"bold"},disabled:k,onClick:function(){c.a.post("/api/v1/updateDetails",{firstName:i,lastName:b,email:p,about:w,userId:t._id}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data))})).catch((function(e){alert("Data was not updated")}))},children:"Update"})})]})}):Object(g.jsx)("div",{children:"User Not Found!"})}),P=t(399),k=function(){var e=Object(O.f)();Object(E.a)("(max-width:600px)"),Object(E.a)("(max-width:992px)");Object(r.useEffect)((function(){localStorage.getItem("user")?e.push("/dashboard"):e.push("/")}),[]);var a=Object(r.useState)(!0),t=Object(o.a)(a,2),s=t[0],n=t[1],i=Object(r.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1];Object(r.useEffect)((function(){c.a.get("/api/v1/posts/".concat(JSON.parse(localStorage.getItem("user"))._id)).then((function(e){console.log(e),u(e.data.post)})).catch((function(e){console.log("Error reading data")}))}),[s,u]);var f=Object(r.useState)(""),v=Object(o.a)(f,2),w=v[0],C=v[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{sx:{flexGrow:1},children:Object(g.jsx)(h.a,{position:"static",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(g.jsx)(j.a,{color:"inherit",onClick:function(){localStorage.clear(),e.push("/")},children:"Logout"})]})})}),Object(g.jsx)(W,{}),Object(g.jsx)(m.a,{sx:{margin:"50px auto"},children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.a.post("/api/v1/posts",{postDetails:w,userId:JSON.parse(localStorage.getItem("user"))._id}).then((function(e){n(!s)})).catch((function(e){console.log("Error posting  data")}))},children:[Object(g.jsx)(b.a,{fullWidth:!0,id:"post",name:"post",label:"Posts",value:w,onChange:function(e){C(e.target.value)}}),Object(g.jsx)(j.a,{color:"primary",variant:"contained",type:"submit",fullWidth:!0,children:"Add Post"})]})}),Object(g.jsx)(P.a,{sx:{margin:"auto",textAlign:"center"},children:d.map((function(e){return Object(g.jsx)(S.a,{children:Object(g.jsx)("div",{children:e.postDetail},e._id)})}))})]})},B=u.a({firstname:u.b("Enter you first name").required("FirstName is required"),lastname:u.b("Enter your last name").required("Last Name is required"),email:u.b("Enter your email").email("Enter a valid email").required("Email is required"),password:u.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),ab:u.b("Enter some info about yourself").required("About is required")}),T=function(){var e=Object(O.f)(),a=Object(d.a)({initialValues:{firstname:"",lastname:"",ab:"",email:"",password:""},validationSchema:B,onSubmit:function(a){console.log(a),c.a.post("/api/v1/signup",{firstName:a.firstname,lastName:a.lastname,email:a.email,password:a.password,about:a.ab}).then((function(a){200===a.status&&(localStorage.clear(),localStorage.setItem("user",JSON.stringify(a.data)),e.push("/")),console.log(a)})).catch((function(e){return console.error(e)}))}});return Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{sx:{flexGrow:1},children:Object(g.jsx)(h.a,{position:"static",children:Object(g.jsxs)(x.a,{children:[Object(g.jsx)(p.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Signup"}),Object(g.jsx)(j.a,{color:"inherit",onClick:function(){e.push("/")},children:"Login"}),Object(g.jsx)(j.a,{color:"inherit",onClick:function(){e.push("/signup")},children:"Sign Up"})]})})}),Object(g.jsx)(m.a,{sx:{margin:"50px auto"},children:Object(g.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(g.jsx)(b.a,{fullWidth:!0,id:"firstname",name:"firstname",label:"First Name",value:a.values.firstname,onChange:a.handleChange,error:a.touched.firstname&&Boolean(a.errors.firstname),helperText:a.touched.firstname&&a.errors.firstname,sx:{margin:"10px"}}),Object(g.jsx)(b.a,{fullWidth:!0,id:"lastname",name:"lastname",label:"Last Name",value:a.values.lastname,onChange:a.handleChange,error:a.touched.lastname&&Boolean(a.errors.lastname),helperText:a.touched.lastname&&a.errors.lastname,sx:{margin:"10px"}}),Object(g.jsx)(b.a,{fullWidth:!0,id:"email",name:"email",label:"Email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email,sx:{margin:"10px"}}),Object(g.jsx)(b.a,{fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password,sx:{margin:"10px"}}),Object(g.jsx)(b.a,{fullWidth:!0,id:"ab",name:"ab",label:"About",value:a.values.ab,onChange:a.handleChange,error:a.touched.ab&&Boolean(a.errors.ab),helperText:a.touched.ab&&a.errors.ab,sx:{margin:"10px"}}),Object(g.jsx)(j.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Sign Up"})]})})]})},D=t(76);var F=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(D.a,{children:Object(g.jsxs)(O.c,{children:[Object(g.jsx)(O.a,{exact:!0,path:"/login",children:Object(g.jsx)(w,{})}),Object(g.jsx)(O.a,{path:"/dashboard",children:Object(g.jsx)(k,{})}),Object(g.jsx)(O.a,{path:"/signup",children:Object(g.jsx)(T,{})})]})})})},J=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,415)).then((function(a){var t=a.getCLS,r=a.getFID,s=a.getFCP,n=a.getLCP,i=a.getTTFB;t(e),r(e),s(e),n(e),i(e)}))};i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(F,{})}),document.getElementById("root")),J()}},[[328,1,2]]]);
//# sourceMappingURL=main.c053d87d.chunk.js.map